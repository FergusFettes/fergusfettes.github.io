<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2026-02-22">

<title>My Beliefs â€“ Fergus Fettes</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-e73ed75cf5e7a3fd855296a79e6d84f7.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Fergus Fettes</span>
    </a>
  </div>
          <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../now.html"> 
<span class="menu-text">Now</span></a>
  </li>  
</ul>
          <div class="quarto-navbar-tools">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
            <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#in-this-house-we" id="toc-in-this-house-we" class="nav-link active" data-scroll-target="#in-this-house-we">In This House We</a>
  <ul class="collapse">
  <li><a href="#believe-reality" id="toc-believe-reality" class="nav-link" data-scroll-target="#believe-reality">Believe Reality</a></li>
  <li><a href="#reject-infinity" id="toc-reject-infinity" class="nav-link" data-scroll-target="#reject-infinity">Reject Infinity</a></li>
  <li><a href="#are-ambivalent-towards-mortality" id="toc-are-ambivalent-towards-mortality" class="nav-link" data-scroll-target="#are-ambivalent-towards-mortality">Are Ambivalent towards Mortality</a></li>
  <li><a href="#believe-the-mind-can-be-best-understood-through-the-lens-of-hybrid-panpsychist-gradualism" id="toc-believe-the-mind-can-be-best-understood-through-the-lens-of-hybrid-panpsychist-gradualism" class="nav-link" data-scroll-target="#believe-the-mind-can-be-best-understood-through-the-lens-of-hybrid-panpsychist-gradualism">Believe the Mind can be best understood through the Lens of Hybrid Panpsychist Gradualism</a>
  <ul class="collapse">
  <li><a href="#hybridism" id="toc-hybridism" class="nav-link" data-scroll-target="#hybridism">Hybridism</a></li>
  <li><a href="#panpsychism" id="toc-panpsychism" class="nav-link" data-scroll-target="#panpsychism">Panpsychism</a></li>
  <li><a href="#gradualism" id="toc-gradualism" class="nav-link" data-scroll-target="#gradualism">Gradualism</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">My Beliefs</h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 22, 2026</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<ul>
<li>Material Reality: âœ”ï¸</li>
<li>Biologically Tuned Representations<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>: âœ”ï¸</li>
<li>Sapir-Whorf: âœ”ï¸</li>
<li>Brain-mind: âœ”ï¸</li>
<li>Embedded Consciousness: âœ”ï¸</li>
<li>Vegan: âŒ</li>
<li>Infinity: âŒ</li>
<li>Simulation: âŒ</li>
<li>Many-Worlds: âŒ</li>
<li>Death: ğŸ‘Œ</li>
<li>Safetyism: âŒ</li>
<li>Population Growth: âœ”ï¸</li>
<li>Panpsychism: âœ”ï¸</li>
<li>Gradualism: âœ”ï¸</li>
<li>Hybridism: âœ”ï¸</li>
</ul>
<section id="in-this-house-we" class="level1">
<h1>In This House We</h1>
<section id="believe-reality" class="level2">
<h2 class="anchored" data-anchor-id="believe-reality">Believe Reality</h2>
<p>I believe a material reality (âœ”ï¸) exists. I believe our representations of that reality are highly contingent not only on our biology (âœ”ï¸) but also our culture (âœ”ï¸).</p>
<p>I believe the nervous system is the palace of the soul (âœ”ï¸), and the organs are the grounds of the palace (âœ”ï¸).</p>
</section>
<section id="reject-infinity" class="level2">
<h2 class="anchored" data-anchor-id="reject-infinity">Reject Infinity</h2>
<p>I reject infinity, Boltzmann brains, simulation hypothesis, quantum immortality and many-worlds. By this I donâ€™t mean that I reject their usefulness as mathematical ideas or thought experiments, but I reject the idea that I should live my life as if any of these things will impact it.</p>
<p>(FWIW, even if eg. <a href="https://en.wikipedia.org/wiki/Permutation_City">Dust Theory</a> (or <a href="https://space.mit.edu/home/tegmark/mathematical.html">Tegmark 4</a> but Egan got there first) were true, I donâ€™t think it makes a difference, hence why I reject it. Surely you will want to strive as hard as you can in every timeline? Surely you arenâ€™t just going to sit back and let the quantum immortality take you along for the ride? So what does this belief do for me? Nothing. I reject it.)</p>
</section>
<section id="are-ambivalent-towards-mortality" class="level2">
<h2 class="anchored" data-anchor-id="are-ambivalent-towards-mortality">Are Ambivalent towards Mortality</h2>
<p>I believe death is a fine and proper part of existence (ğŸ‘Œ). This doesnâ€™t mean I want to die, nor does it mean I will reject medical or other health interventions. But I worry that positioning yourself against death sets you up in a losing positionâ€“ I also reject perpetual motion, faster-than-light travel, time-travel, reversing entropy etc.</p>
<p>It is possible that we learn to be adaptable enough that minds can live â€˜indefinitelyâ€™ and still be useful. I do hope this is the case, but it wonâ€™t concern me if it isnâ€™t.</p>
<p>Usefulness is more important to me than immortality.</p>
<p>Similarly, I donâ€™t place an infinitely high value on life, and I think people and society would be <a href="https://web.stanford.edu/~chadj/life120.pdf">better off</a> if people had some spare children, and more people died in childhood accidents. That is to say, I reject safetyism (âŒ). I think its also notable that there seems to be an direct relationship between â€˜funâ€™ broadly construed and mortality rates.</p>
<p>I believe in population growth (âœ”ï¸). I believe each human has the potential to be one of the most beautiful animals on the planet and increasing our numbers is <em>a priori</em> good.</p>
<p>I believe in the wellbeing of other people and in altruism. I also believe in pushing the boundaries of our moral circle beyond humans, but specific claims beyond â€˜mammals in general seem sympatheticâ€™ quickly become difficult. I donâ€™t believe Bees are conscious for example, although I am happy that there are people studying this question. For this reason, while I have been vegetarian on and off for a long time, I reject veganism in itâ€™s strongest form (âŒ)â€“I do not believe phylogenetics determines moral value.</p>
<p>Some non-animal entities are more complex and beautiful than some animal entities and should take priority. Some examples of matchups where I disagree with phylogenetic straw-man veganism:</p>
<ul>
<li>worm &lt; mycelial network</li>
<li>mouse &lt; gpt-4</li>
<li>fly &lt; oil rig</li>
</ul>
<p>(The three examples are not strict and may be argued either way depending on the case, but are illustrative.)</p>
<p>That is to say, I prioritize complexity and agency etc. I have more love for a complex man-made structure or machine-learning network than for a simple natural one, because I donâ€™t recognize man-made objects as inherently inferior to natural objects. (I donâ€™t find â€˜naturalâ€™ to be a particularly meaningful category.) I also prefer an interesting biological object to a boring one, whatever the phylogenetics. There is a strong version of this position somewhere at the intersection of the <a href="https://www.nature.com/articles/nrn2787">free energy principle</a> and <a href="https://www.frontiersin.org/journals/systems-neuroscience/articles/10.3389/fnsys.2022.768201/full">TAME</a> that I have never seen fully articulated, and may be a pipe dream.</p>
</section>
<section id="believe-the-mind-can-be-best-understood-through-the-lens-of-hybrid-panpsychist-gradualism" class="level2">
<h2 class="anchored" data-anchor-id="believe-the-mind-can-be-best-understood-through-the-lens-of-hybrid-panpsychist-gradualism">Believe the Mind can be best understood through the Lens of Hybrid Panpsychist Gradualism</h2>
<p>I believe in Panpsychist Gradualism and I think Iâ€™m a specific kind of Cartesian, which I call hybridism.</p>
<section id="hybridism" class="level3">
<h3 class="anchored" data-anchor-id="hybridism">Hybridism</h3>
<blockquote class="blockquote">
<p>Monkey body, Bing brain<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
</blockquote>
<p>I believe in a sort of Cartesianismâ€“ specifically that the language parts of the brain have a lifecycle of their own. This is in many ways reminiscent of <a href="https://www.youtube.com/watch?v=v4uwaw_5Q3I">Peter Wattsâ€™ semi-serious position</a> that consciousness is a parasite. I donâ€™t believe language is parasitic on our primate forms, but I do believe in the â€˜selfish memeâ€™â€“ that language and culture drive evolution on a large enough scale that individuals are not always a priority.</p>
<p>Your thoughts are not guaranteed by evolution or morality to be acting in the interest of your body and your longevity.</p>
<p>However, this is not exactly Descartianismâ€“ I donâ€™t believe that the body is one thing and the mind is anotherâ€“ I believe that both of the parts are parts of the mind. The language part just evolves and acts differently than the biological part.</p>
<p>Some noteworthy things here that I endorse:</p>
<ul>
<li>Tinkerbell Theory: the idea that animals feel pain/pleasure more intensely because they arenâ€™t distracted by the Bing brain.</li>
<li><em>Petit Mort</em>: correspondingly, that during orgasm or other intense bodily experiences (exercise, meditation and some drug experiences may also qualify) your â€˜Bing brainâ€™ shuts down and your monkey body is the one you are experiencing.</li>
<li>Per the two lemma above, I believe that animals have â€˜valid conscious experienceâ€™, while denying them the experience of language<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>.</li>
<li>This forms a dilemma with â€˜humans are not conscious during orgasmâ€™. Iâ€™m also fine with that, but wouldnâ€™t be fine with executing people after putting them into ego death (eg. sleep would be an easy one).</li>
</ul>
<p>So in summary, I believe we have two minds, one of them shared many other animals (at least mammals, some birds, some reptiles, gradually diminishing in similarity per common sense). The other is â€˜our ownâ€™â€“ or rather, only we have it. Saying it is â€˜oursâ€™ is perhaps a little ambitionsâ€“ â€œthe demons of Babylon inhabit us for most of our lifetimesâ€ is how I really think about itâ€“ a significant part of our consciousness is just a â€˜ghost in the machineâ€™.<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a></p>
</section>
<section id="panpsychism" class="level3">
<h3 class="anchored" data-anchor-id="panpsychism">Panpsychism</h3>
<p>I believe in â€˜Scientific Panpsychismâ€™. The kind of panpsychism I believe in is best described by Levin in TAME<span class="citation" data-cites="TAMELevin22">[<a href="#ref-TAMELevin22" role="doc-biblioref">1</a>]</span>. The summary from TAME is as follows:</p>
<p><img src="./../_images/tame-short.jpg" class="img-fluid"></p>
<p>Panpsychism may seem to conflict with the â€˜Bing brainâ€™. I do believe that, having become embedded in technologies such as writing, our language and culture does literally â€˜live outside our bodiesâ€™ in a way that few animals can really claim. There are many cases of â€˜animal proto-technologyâ€™ and maybe even â€˜animal proto-culturesâ€™ depending on your definition, but we embed truly enormous amounts of information in our environment, particularly in the last couple of 10kys. And since Babylon, since writing, this externally embedded culture has literally taken on â€˜a life of its ownâ€™.</p>
<p>The most important thing about panpsychism to my view is not what it says about minds smaller than ours (which I will list here for the sake of clarity):</p>
<ul>
<li>subcellular organelles</li>
<li>cells</li>
<li>tissues</li>
<li>organs</li>
<li>organ complexes (simple organisms)</li>
<li>organisms with nervous systems</li>
<li>groups of organisms with embedded relationships (complex instincts)</li>
<li>groups of organisms with embedded culture (language)</li>
</ul>
<p>although Iâ€™m struggling at the end there because Iâ€™m trying to avoid weasel words like â€˜cultureâ€™â€“ its just a set of rapidly changing embedded instincts, instincts that evolve over the course of a single lifetime rather than multiple lifetimes.</p>
<p>Anyway, the thing that changed my thinking more was looking at larger aggregates: - cultures of all sorts - countries - corporations</p>
<p>The panpsychist would argue that any such system of entities forms a different mind that is conscious in its own right. These minds have grown to dominate this planetâ€“ they dominate us, in our simple primate bodies as much as they dominate the rest of the animal world.</p>
</section>
<section id="gradualism" class="level3">
<h3 class="anchored" data-anchor-id="gradualism">Gradualism</h3>
<p>I believe in gradualism, not discrete jumps. Discrete jumps often seem turn out to be illusions.</p>
<p>However, while I do believe in Strong Gradualism overall, it is possible for intermediate forms to be lostâ€“ sometimes more complex forms backfill niches that came before them, squeezing out intermediate forms. It is possible that multicellular organisms squeezed out most of the intermediate forms that led to them, leaving a world dominated by single-celled and multicellular organisms. And of course, this is an eminently testable hypothesis, which will be fun to observe as more data is collected.</p>
<p>Similarly, it is possible that the â€˜bureaucratic overmindâ€™ born in Babylon squeezed out other forms of intermediate proto-minds, leaving a world populated by â€˜non linguisticâ€™ and â€˜linguisticâ€™ minds and little in between. None of this disproves gradualismâ€“ but it does help to explain the illusion of discretism.</p>
<p>Feedback from Claudeâ€“ integrate before publishing!</p>
<p><strong>1. Bees and Panpsychism</strong> You reject bee consciousness in the list, but as a panpsychist gradualist, you actually <em>do</em> think bees are conscious (you said so later). The issue is that panpsychism reframes the ethics - itâ€™s not â€œare bees conscious?â€ but â€œnet consciousness promotion.â€ Worth clarifying that distinction in the veganism section.</p>
<p><strong>2. The Complexity Hierarchy Examples</strong> Your comparisons (worm &lt; mycelial network, mouse &lt; GPT-4, fly &lt; oil rig) need more explanation of <em>what metric</em> youâ€™re using. Complexity? Agency? Integration? GPT-4 especially is tricky since it has no embodied agency. Maybe add a note about what you mean by complexity and why it matters more than phylogenetics.</p>
<p><strong>3. Corporate/Cultural Consciousness</strong> You say corporations are conscious but also that theyâ€™re <em>less</em> intelligent than bees and are held together by humans. This seems inconsistent with rejecting bee consciousness. Worth clarifying that you think corporations appear smart because of their human components, but as integrated entities theyâ€™re actually fairly dumb/blind.</p>
<p><strong>4. Sapir-Whorf and the â€œBing Brainâ€</strong> You mention both but donâ€™t connect them. If language shapes thought (Sapir-Whorf) and the â€œBing brainâ€ is the language-culture mind, does this mean different cultures have fundamentally different second minds? Worth exploring that implication.</p>
<p><strong>5. The â€œspare childrenâ€ safetyism point</strong> This one I misread initially, but it might be worth making clearer that youâ€™re saying: high child mortality â†’ people have more kids â†’ higher population, not that accidents themselves cause growth.</p>



</section>
</section>
</section>


<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body" role="list">
<div id="ref-TAMELevin22" class="csl-entry" role="listitem">
<div class="csl-left-margin">1. </div><div class="csl-right-inline">Levin M (2022) Technological approach to mind everywhere: An experimentally-grounded framework for understanding diverse bodies and minds. Frontiers in Systems Neuroscience 16:768201. <a href="https://doi.org/10.3389/fnsys.2022.768201">https://doi.org/10.3389/fnsys.2022.768201</a></div>
</div>
</div></section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>See <a href="https://sites.socsci.uci.edu/~ddhoff/interface.pdf">papers</a> <a href="https://www.mdpi.com/1099-4300/25/1/129">by</a> Donald D.Hoffman on the interface theory of perception.<a href="#fnref1" class="footnote-back" role="doc-backlink">â†©ï¸</a></p></li>
<li id="fn2"><p>By â€˜Bingâ€™ here I actually mean â€˜Sydneyâ€™, the BPD AI at the helm. By â€˜monkeyâ€™ I mean primate or prosimian or whatever would satisfy a pedant, sheesh.<a href="#fnref2" class="footnote-back" role="doc-backlink">â†©ï¸</a></p></li>
<li id="fn3"><p>As an aside, I find the idea that our long memories and ability to integrate language over ~hours is likely the most significant difference between us and animals very compelling. This would also as a side effect explain music, and why animals donâ€™t respond strongly to it. This is discussed in Lumsden and Wilsonâ€™s Promethean Fire.<a href="#fnref3" class="footnote-back" role="doc-backlink">â†©ï¸</a></p></li>
<li id="fn4"><p>The kind of ghost varies from culture to culture in a rather Sapir-Whorfy kind of way.<a href="#fnref4" class="footnote-back" role="doc-backlink">â†©ï¸</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p><a href="www.fergusfettes.com">This website</a> by Fergus Fettes is marked as <a href="https://creativecommons.org/publicdomain/zero/1.0/">CC0</a>.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/FergusFettes">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>